<p>I was looking for an ORM to use in a project and that lead to a lot of research. I finalized my list to <code>Doctrine</code>, <code>Propel</code> and <code>Eloquent</code>. I did not like <code>Doctrine</code>'s way of using annotations. I tried <code>Propel</code> (specifically the upcoming version 2) and really liked it but it wasn't stable enough to be used in production. Then I looked into <code>Eloquent</code> of the
<a href="http://laravel.com">Laravel</a> fame and it instantly blew my mind.</p>
<p>Initially Eloquent was tightly coupled into the framework but as the public demand grew, a package called <code>Capsule</code> was created by the (in)famous <a href="https://twitter.com/philsturgeon">Phil Sturgeon</a>. Later it was merged into the offical repository. Today we will be learning how to use it outside Laravel.</p>
<h2>Installation</h2>
<p>We will be using composer to install it.</p>
<pre><code class="language-bash">composer require illuminate\database
</code></pre>
<p>Now creating a connection is as simple as shown below. Eloquent supports a wide variety of databases. You cav have a look at them in the <a href="http://laravel.com/docs/database">official docs</a>.</p>
<pre><code class="language-php">//index.php
&lt;?php
require &quot;vendor/autoload.php&quot;;

use Illuminate\Database\Capsule\Manager as Capsule;

/**
 * Configure the database and boot Eloquent
 */
$capsule = new Capsule;
$capsule-&gt;addConnection([
    'driver'    =&gt; 'mysql',
    'host'      =&gt; 'host',
    'database'  =&gt; 'database',
    'username'  =&gt; 'username',
    'password'  =&gt; 'password',
    'charset'   =&gt; 'utf8',
    'collation' =&gt; 'utf8_general_ci',
    'prefix'    =&gt; 'prefix_'
]);
$capsule-&gt;setAsGlobal();
$capsule-&gt;bootEloquent();
// set timezone for timestamps etc
date_default_timezone_set('UTC');
</code></pre>
<p>And we are good to go!</p>
<h2>Building Schema</h2>
<p>A schema can be built or dropped using code similar to shown below.</p>
<pre><code class="language-php">&lt;?php
use Illuminate\Database\Capsule\Manager as Capsule;
use Illuminate\Database\Schema\Blueprint;

//Creating schema
Capsule::schema()-&gt;create('users', function (Blueprint $table) {
    $table-&gt;increments('id');
    $table-&gt;string('username');
    $table-&gt;string('first_name')-&gt;nullable();
    $table-&gt;string('last_name')-&gt;nullable();
    $table-&gt;string('email');
    $table-&gt;string('password');
    $table-&gt;timestamps();
});

//Droping Schema
Capsule::schema()-&gt;dropIfExists('users');
</code></pre>
<h2>Making a model</h2>
<p>Making a model is as simple as extending <code>Illuminate\Database\Eloquent\Model</code></p>
<pre><code class="language-php">&lt;?php
//User Model
use Illuminate\Database\Eloquent\Model as Eloquent
class User extends Eloquent {
    //
}
</code></pre>
<h2>Wrap Up</h2>
<p>This was a quick look at using <code>Eloquent</code> ORM outside Laravel. Hope you find it useful too.</p>
