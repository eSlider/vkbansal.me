<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <base href="">
        <title> | Blog | Vivek Kumar Bansal, frontend developer and designer</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700 | Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/fonts.css">
        <link rel="stylesheet" href="css/styles.css">
    </head>
    <body class="blog">
        <nav class="off-canvas">
            <ul class="main-nav">
                <li>
                    <a href="./">
                        <svg class="icon">
                            <use xlink:href="#navicon-home" />
                        </svg>Home
                    </a>
                </li>
                <li>
                    <a href="/about/">
                        <svg class="icon">
                            <use xlink:href="#navicon-about" />
                        </svg>About
                    </a>
                </li>
                <li>
                    <a href="/work/">
                        <svg class="icon">
                            <use xlink:href="#navicon-work" />
                        </svg>Work
                    </a>
                </li>
                <li>
                    <a href="/blog/">
                        <svg class="icon">
                            <use xlink:href="#navicon-blog" />
                        </svg>Blog
                    </a>
                </li>
                <li>
                    <a href="/contact/">
                        <svg class="icon">
                            <use xlink:href="#navicon-contact" />
                        </svg>Contact
                    </a>
                </li>
            </ul>
            <footer class="connect">
                <p class="social">Connect with me</p>
                <ul class="social">
                    <li>
                        <a href="https://www.facebook.com/vkbansal.me" class="facebook">
                          <svg class="icon">
                                <use xlink:href="#navicon-facebook" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="http://twitter.com/_vkbansal" class="twitter">
                            <svg class="icon">
                                <use xlink:href="#navicon-twitter" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/104240046366721765666" rel="publisher" class="google-plus">
                            <svg class="icon">
                                <use xlink:href="#navicon-gplus" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/vkbansal" class="github">
                            <svg class="icon">
                                <use xlink:href="#navicon-github" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.behance.net/vkbansal" class="behance">
                            <svg class="icon">
                                <use xlink:href="#navicon-behance" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://in.linkedin.com/in/vkb0310" class="linkedin">
                            <svg class="icon">
                                <use xlink:href="#navicon-linkedin" />
                            </svg>
                        </a>
                    </li>
                </ul>
            </footer>
        </nav>
        <div id="canvas-container" class="canvas-container"></div>
        <div class="fixed-toggle hide" id="fixed-toggle">
                <button class="toggle-offcanvas" id="fixed-toggle-button">
                    <span class="lines"></span>
                </button>
        </div>
        <div class="site-canvas" id="site-canvas">
            <header class="site-header">
                <div class="container">
                    <button class="toggle-offcanvas" id="toggle-offcanvas">
                        <span class="lines"></span>
                    </button>
                    <span class="info"></span>
                    <h1 class="title">V<span>ivek </span>K<span>umar </span>Bansal</h1>
                </div>
            </header>
            <div id="site-content" class="site-content">
                
<div class="container">
    <div class="row">
        <div class="blog-title">
            <h1></h1>
            <small class="post-meta">By <a href=""></a> </small>
        </div>
    </div>
    <div class="row">
        <div class="blog-sidebar-left">
            <ul class="share">
                <li>Share this:</li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=">Facebook</a></li>
                <li><a href="https://twitter.com/intent/tweet?url=&text=&via=_vkbansal">Twitter</a></li>
                <li><a href="https://plus.google.com/share?url=">Google+</a></li>
            </ul>
            <ul class="share">
                <li>Follow me:</li>
                <li><a href="http://feeds.feedburner.com/vkbansal">RSS</a></li>
                <li><a href="https://github.com/vkbansal">Github</a></li>
                <li><a href="https://www.facebook.com/vkbansal.me">Facebook</a></li>
                <li><a href="https://twitter/_vkbansal">Twitter</a></li>
            </ul>
        </div>
        <div class="blog-content">
            &lt;p&gt;&lt;a href=&quot;http://backbonejs.org/&quot;&gt;Backbone&lt;/a&gt; is a very popular and minimal MVC framework for javascript by &lt;a href=&quot;https://github.com/jashkenas&quot;&gt;Jeremy Ashkenas&lt;/a&gt;. It gives a web application a nice structure and helps in seperation of concerns with &lt;em&gt;Models, Collections and Views&lt;/em&gt;. But Backbone Views are very minimal and requires a lot of code to setup. This is where &lt;a href=&quot;http://facebook.github.io/react/&quot;&gt;React&lt;/a&gt; steps in. It&#39;s a javascript library for building user interfaces by Facebook and people use React as the V in MVC as their website states. While researching for ways to use them together I came across many different solutions but none of them were satisfactory for me until I came across an answer by &lt;a href=&quot;https://twitter.com/dan_abramov&quot;&gt;Dan Abramov&lt;/a&gt; on &lt;a href=&quot;http://stackoverflow.com/questions/21709905/can-i-avoid-forceupdate-when-using-react-with-backbone/21709906#21709906&quot;&gt;stackoverflow&lt;/a&gt;. I found it very helpful and wanted to share this.&lt;/p&gt;
&lt;p&gt;###The Mixin
Dan made a simple mixin which uses  neither &lt;code&gt;setProps&lt;/code&gt; nor &lt;code&gt;forceUpdate&lt;/code&gt; which is what I was exactly looking for.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var BackboneStateMixin = {
    getInitialState: function () {
        return this.getBackboneState(this.props);
    },

    componentDidMount: function () {
        if (!_.isFunction(this.getBackboneState)) {
            throw new Error(&#39;You must provide getBackboneState(props).&#39;);
        }

        this._bindBackboneEvents(this.props);
    },

    componentWillReceiveProps: function (newProps) {
        this._unbindBackboneEvents();
        this._bindBackboneEvents(newProps);
    },

    componentWillUnmount: function () {
        this._unbindBackboneEvents();
    },

    _updateBackboneState: function () {
        var state = this.getBackboneState(this.props);
        this.setState(state);
    },

    _bindBackboneEvents: function (props) {
        if (!_.isFunction(this.watchBackboneProps)) {
            return;
        }

        if (this._backboneListener) {
            throw new Error(&#39;Listener already exists.&#39;);
        }

        if (!props) {
            throw new Error(&#39;Passed props are empty&#39;);
        }

        var listener = _.extend({}, Backbone.Events),
            listenTo = _.partial(listener.listenTo.bind(listener), _, _, this._updateBackboneState);

        this.watchBackboneProps(props, listenTo);
        this._backboneListener = listener;
    },

    _unbindBackboneEvents: function () {
        if (!_.isFunction(this.watchBackboneProps)) {
            return;
        }

        if (!this._backboneListener) {
            throw new Error(&#39;Listener does not exist.&#39;);
        }

        this._backboneListener.stopListening();
        delete this._backboneListener;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The idea behind this mixin is that &lt;em&gt;Backbone Models\Collections&lt;/em&gt; are set as &lt;code&gt;props&lt;/code&gt; and their &lt;code&gt;toJSON&lt;/code&gt;  value is automatically put by mixin into &lt;code&gt;state&lt;/code&gt;. One needs to override &lt;code&gt;getBackboneState(props)&lt;/code&gt; for this to work, and optionally &lt;code&gt;watchBackboneProps&lt;/code&gt; to tell the mixin when to call &lt;code&gt;setState&lt;/code&gt; with fresh values.&lt;/p&gt;
&lt;p&gt;###Usage Example
The above mixin can be used with any &lt;em&gt;React components&lt;/em&gt; as follows without having to worry about stale values in &lt;em&gt;Backbone Model\Collection&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var MyComponent = React.createClass({
    mixins: [BackboneStateMixin],
    getBackboneState: function(props) {
        return {
            model: props.model.toJSON(),
            collection: props.collection.toJSON()
        }
    },
    watchBackboneProps: function(props, listenTo) {
        listenTo(props.model, &#39;change:someValue&#39;);
        listenTo(props.collection, &#39;change reset add remove&#39;);
    },
    render: function() {
        //Use JSON values from this.state.model 
        //or this.state.collection
    }
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;###Conclusion
I found this very helpful and hope you too can benefit from it.&lt;/p&gt;

        </div>
        <div class="blog-sidebar-right">
            <ul class="recent-posts">
                <li>Recent posts:</li>
                
            </ul>
        </div>
    </div>
    <div id="disqus_thread"></div>
    
    <!--script type="text/javascript">
        var disqus_shortname = 'vkbansal',
            disqus_identifier = '',
            disqus_title = '';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script-->
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
</div>

            </div>
            
            <footer class="container center footer" id="hire-me">
                <h2 class="heading">Want to work with me?</h2>
                <p>If you like what you've seen and want to hire me, Just hit the link below.</p>
                <p><a href="/project-planner/" class="button">Plan a Project </a></p>
            </footer>
            
        </div>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery.min.js"><\/script>')</script>
        <script type="text/javascript" src="js/plugins.min.js"></script>
        <script type="text/javascript" src="js/main.js"></script>
        
        
        
    </body>
</html>
