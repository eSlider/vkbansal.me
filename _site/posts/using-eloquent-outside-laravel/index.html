<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <base href="">
        <title> | Blog | Vivek Kumar Bansal, frontend developer and designer</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700 | Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/fonts.css">
        <link rel="stylesheet" href="css/styles.css">
        
        <!--script src="vendor/modernizr.js"></script-->
    </head>
    <body class="blog">
        <nav class="off-canvas">
            <ul class="main-nav">
                <li>
                    <a href="./">
                        <svg class="icon">
                            <use xlink:href="#navicon-home" />
                        </svg>Home
                    </a>
                </li>
                <li>
                    <a href="/about/">
                        <svg class="icon">
                            <use xlink:href="#navicon-about" />
                        </svg>About
                    </a>
                </li>
                <li>
                    <a href="/work/">
                        <svg class="icon">
                            <use xlink:href="#navicon-work" />
                        </svg>Work
                    </a>
                </li>
                <li>
                    <a href="/blog/">
                        <svg class="icon">
                            <use xlink:href="#navicon-blog" />
                        </svg>Blog
                    </a>
                </li>
                <li>
                    <a href="/contact/">
                        <svg class="icon">
                            <use xlink:href="#navicon-contact" />
                        </svg>Contact
                    </a>
                </li>
            </ul>
            <footer class="connect">
                <p class="social">Connect with me</p>
                <ul class="social">
                    <li>
                        <a href="https://www.facebook.com/vkbansal.me" class="facebook">
                          <svg class="icon">
                                <use xlink:href="#navicon-facebook" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="http://twitter.com/_vkbansal" class="twitter">
                            <svg class="icon">
                                <use xlink:href="#navicon-twitter" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://plus.google.com/104240046366721765666" rel="publisher" class="google-plus">
                            <svg class="icon">
                                <use xlink:href="#navicon-gplus" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/vkbansal" class="github">
                            <svg class="icon">
                                <use xlink:href="#navicon-github" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.behance.net/vkbansal" class="behance">
                            <svg class="icon">
                                <use xlink:href="#navicon-behance" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://in.linkedin.com/in/vkb0310" class="linkedin">
                            <svg class="icon">
                                <use xlink:href="#navicon-linkedin" />
                            </svg>
                        </a>
                    </li>
                </ul>
            </footer>
        </nav>
        <div id="canvas-container" class="canvas-container"></div>
        <div class="fixed-toggle hide" id="fixed-toggle">
                <button class="toggle-offcanvas" id="fixed-toggle-button">
                    <span class="lines"></span>
                </button>
        </div>
        <div class="site-canvas" id="site-canvas">
            <header class="site-header">
                <div class="container">
                    <button class="toggle-offcanvas" id="toggle-offcanvas">
                        <span class="lines"></span>
                    </button>
                    <span class="info"></span>
                    <h1 class="title">V<span>ivek </span>K<span>umar </span>Bansal</h1>
                </div>
            </header>
            <div id="site-content" class="site-content">
                
<div class="container">
    <div class="row">
        <div class="blog-title">
            <h1></h1>
            <small class="post-meta">By <a href=""></a> </small>
        </div>
    </div>
    <div class="row">
        <div class="blog-sidebar-left">
            <ul class="share">
                <li>Share this:</li>
                <li><a href="https://www.facebook.com/sharer/sharer.php?u=">Facebook</a></li>
                <li><a href="https://twitter.com/intent/tweet?url=&text=&via=_vkbansal">Twitter</a></li>
                <li><a href="https://plus.google.com/share?url=">Google+</a></li>
            </ul>
            <ul class="share">
                <li>Follow me:</li>
                <li><a href="http://feeds.feedburner.com/vkbansal">RSS</a></li>
                <li><a href="https://github.com/vkbansal">Github</a></li>
                <li><a href="https://www.facebook.com/vkbansal.me">Facebook</a></li>
                <li><a href="https://twitter/_vkbansal">Twitter</a></li>
            </ul>
        </div>
        <div class="blog-content">
            <p>I was looking for an ORM to use in a project and that lead to a lot of research. I finalized my list to <code>Doctrine</code>, <code>Propel</code> and <code>Eloquent</code>. I did not like <code>Doctrine</code>'s way of using annotations. I tried <code>Propel</code> (specifically the upcoming version 2) and really liked it but it wasn't stable enough to be used in production. Then I looked into <code>Eloquent</code> of the
<a href="http://laravel.com">Laravel</a> fame and it instantly blew my mind.</p>
<p>Initially Eloquent was tightly coupled into the framework but as the public demand grew, a package called <code>Capsule</code> was created by the (in)famous <a href="https://twitter.com/philsturgeon">Phil Sturgeon</a>. Later it was merged into the offical repository. Today we will be learning how to use it outside Laravel.</p>
<h2>Installation</h2>
<p>We will be using composer to install it.</p>
<pre><code class="language-bash">composer require illuminate\database
</code></pre>
<p>Now creating a connection is as simple as shown below. Eloquent supports a wide variety of databases. You cav have a look at them in the <a href="http://laravel.com/docs/database">official docs</a>.</p>
<pre><code class="language-php">//index.php
&lt;?php
require &quot;vendor/autoload.php&quot;;

use Illuminate\Database\Capsule\Manager as Capsule;

/**
 * Configure the database and boot Eloquent
 */
$capsule = new Capsule;
$capsule-&gt;addConnection([
    'driver'    =&gt; 'mysql',
    'host'      =&gt; 'host',
    'database'  =&gt; 'database',
    'username'  =&gt; 'username',
    'password'  =&gt; 'password',
    'charset'   =&gt; 'utf8',
    'collation' =&gt; 'utf8_general_ci',
    'prefix'    =&gt; 'prefix_'
]);
$capsule-&gt;setAsGlobal();
$capsule-&gt;bootEloquent();
// set timezone for timestamps etc
date_default_timezone_set('UTC');
</code></pre>
<p>And we are good to go!</p>
<h2>Building Schema</h2>
<p>A schema can be built or dropped using code similar to shown below.</p>
<pre><code class="language-php">&lt;?php
use Illuminate\Database\Capsule\Manager as Capsule;
use Illuminate\Database\Schema\Blueprint;

//Creating schema
Capsule::schema()-&gt;create('users', function (Blueprint $table) {
    $table-&gt;increments('id');
    $table-&gt;string('username');
    $table-&gt;string('first_name')-&gt;nullable();
    $table-&gt;string('last_name')-&gt;nullable();
    $table-&gt;string('email');
    $table-&gt;string('password');
    $table-&gt;timestamps();
});

//Droping Schema
Capsule::schema()-&gt;dropIfExists('users');
</code></pre>
<h2>Making a model</h2>
<p>Making a model is as simple as extending <code>Illuminate\Database\Eloquent\Model</code></p>
<pre><code class="language-php">&lt;?php
//User Model
use Illuminate\Database\Eloquent\Model as Eloquent
class User extends Eloquent {
    //
}
</code></pre>
<h2>Wrap Up</h2>
<p>This was a quick look at using <code>Eloquent</code> ORM outside Laravel. Hope you find it useful too.</p>

        </div>
        <div class="blog-sidebar-right">
            <ul class="recent-posts">
                <li>Recent posts:</li>
                
            </ul>
        </div>
    </div>
    <div id="disqus_thread"></div>
    
    <!--script type="text/javascript">
        var disqus_shortname = 'vkbansal',
            disqus_identifier = '',
            disqus_title = '';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script-->
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
</div>

            </div>
            
            <footer class="container center footer" id="hire-me">
                <h2 class="heading">Want to work with me?</h2>
                <p>If you like what you've seen and want to hire me, Just hit the link below.</p>
                <p><a href="/project-planner/" class="button">Plan a Project </a></p>
            </footer>
            
        </div>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery.min.js"><\/script>')</script>
        <script type="text/javascript" src="js/plugins.min.js"></script>
        <script type="text/javascript" src="js/main.js"></script>
        
        
        
        
        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-54521168-1', 'auto');
            ga('send', 'pageview');
        </script>
        
        
    </body>
</html>
